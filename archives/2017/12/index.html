<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>アーカイブ: 2017/12 | 愉快な死体置き場</title>
  <meta name="author" content="liarnose">
  
  <meta name="description" content="roguelikeゲーの死亡記録とかの話をするぶろぐ">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="愉快な死体置き場"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="愉快な死体置き場" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-65880894-1', 'auto');
	ga('send', 'pageview');

</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">愉快な死体置き場</a></h1>
  <h2><a href="/">Phantastic Morgue</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2017/12</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-12-07T15:00:00.000Z"><a href="/2017/12/08/pfrpg-tex/">2017-12-08</a></time>
      
      
  
    <h1 class="title"><a href="/2017/12/08/pfrpg-tex/">PathfinderRPGの敵データ.tex</a></h1>
  

    </header>
    <div class="entry">
      
        <p>この記事は、<a href="https://adventar.org/calendars/2345" target="_blank" rel="external">TRPG 供養会 Advent Calendar 2017</a>の第8日目の記事として書かれました。</p>
<hr>
<p>昔ショートキャンペーンのGMをやるにあたってエネミーデータを印刷するためのフォーマットをLaTeXで書いたやつが発掘されたのでそれをそのまま公開します。</p>
<p><a href="https://www.dropbox.com/s/6kghj8pkdjsfh6d/pfrpg-tex.zip" target="_blank" rel="external">pfrpg-tex.zip</a></p>
<p>タイトルにある通り.styファイルに切り出したりもせずいちいち全部.texファイルにコピーしてきてるあたり見る人が見ると即座に意志セーブ(難易度15)もしくは盲目状態になるので注意してください。</p>
<ul>
<li>tex:enemy.texの先頭部分</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% 横書き二段組み</span></div><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[twocolumn]</span><span class="string">&#123;jbook&#125;</span></span></div><div class="line"></div><div class="line"><span class="comment">% OTFフォントを使えるようにする</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[deluxe]</span><span class="string">&#123;otf&#125;</span></span></div><div class="line"></div><div class="line"><span class="comment">% そのうちカラー対応しようとしてたっぽい</span></div><div class="line"><span class="comment">% ヘッダーに座布団敷いたり</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[dvipdfmx]</span><span class="string">&#123;color&#125;</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">% デフォルトの書体をゴシック・サンセリフに</span></div><div class="line"><span class="comment">% レンダリングにはIPAフォントを使っていたはず</span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\kanjifamilydefault&#125;</span><span class="string">&#123;\gtdefault&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">renewcommand</span><span class="string">&#123;\familydefault&#125;</span><span class="string">&#123;\sfdefault&#125;</span></span></div><div class="line"></div><div class="line"><span class="comment">% ページサイズ</span></div><div class="line"><span class="comment">% …なんでptでやってんの？ぱっと見A4ページだってのが分からなくね？</span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\parindent&#125;</span><span class="string">&#123;0pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\baselineskip&#125;</span><span class="string">&#123;10pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\oddsidemargin&#125;</span><span class="string">&#123;-30pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\evensidemargin&#125;</span><span class="string">&#123;-30pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\topmargin&#125;</span><span class="string">&#123;-30pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\textwidth&#125;</span><span class="string">&#123;513pt&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setlength</span><span class="string">&#123;\textheight&#125;</span><span class="string">&#123;714pt&#125;</span></span></div><div class="line"></div><div class="line"><span class="comment">% ヘッダータグ</span></div><div class="line"><span class="comment">% 何 header の略か忘れた</span></div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\HH&#125;</span><span class="string">[2]</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">	&#123;\noindent \bfseries \Large </span></span></div><div class="line"><span class="tag"><span class="string">		&#123;#1&#125;</span></span> <span class="tag">\<span class="name">hfill</span></span> 脅威度&#123;#2&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\hh&#125;</span><span class="string">[1]</span><span class="string">&#123;</span></span></div><div class="line"><span class="tag"><span class="string">	\rule[-2pt]&#123;\linewidth&#125;</span><span class="string">&#123;0.5pt&#125;</span></span></div><div class="line">	#1 <span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="comment">%	\rule[+10pt]&#123;\linewidth&#125;&#123;0.5pt&#125;</span></div><div class="line">&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\h&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;\bfseries &#123;#1&#125;</span></span> &#125;&#125;</div><div class="line"></div><div class="line"><span class="comment">% 能力値 ability,技能 skill,特技 feat,ダメージ種別 element,サブタイプ subtype</span></div><div class="line"><span class="comment">% 括弧がらみの表記統一のためタグにくくりだす</span></div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\Abl&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;\bfseries 【&#123;#1&#125;</span></span>】&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\abl&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;【&#123;#1&#125;</span></span>】&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\ski&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;〈&#123;#1&#125;</span></span>〉&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\Fea&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;\bfseries 《&#123;#1&#125;</span></span>》&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\fea&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;《&#123;#1&#125;</span></span>》&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\ele&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;［&#123;#1&#125;</span></span>］&#125;&#125;</div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\sub&#125;</span><span class="string">[1]</span><span class="string">&#123;&#123;（&#123;#1&#125;</span></span>）&#125;&#125;</div><div class="line"></div><div class="line"><span class="comment">% &lt;hr&gt;</span></div><div class="line"><span class="tag">\<span class="name">newcommand</span><span class="string">&#123;\myrule&#125;</span><span class="string">[1]</span><span class="string">&#123;\rule[4pt]&#123;\linewidth&#125;</span><span class="string">&#123;0.5pt&#125;</span></span><span class="tag">\<span class="name">\</span></span>&#125;</div></pre></td></tr></table></figure>
<ul>
<li>tex:enemy.texのサンプル敵部分<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">HH</span><span class="string">&#123;ゴブリン弩兵&#125;</span><span class="string">&#123;5&#125;</span></span></div><div class="line"></div><div class="line">ゴブリン/ウォーリア7</div><div class="line"></div><div class="line">CE 小型サイズの人型生物<span class="tag">\<span class="name">sub</span><span class="string">&#123;ゴブリン類&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;イニシアチブ&#125;</span></span>+3</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;感覚&#125;</span></span>暗視 60ft.，<span class="tag">\<span class="name">ski</span><span class="string">&#123;知覚&#125;</span></span>+6</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">myrule</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;hp&#125;</span></span>45(7d10+7)</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;AC&#125;</span></span>18 接触 14 立ちすくみ 15<span class="tag">\<span class="name">\</span></span></div><div class="line">(+3 <span class="tag">\<span class="name">abl</span><span class="string">&#123;敏&#125;</span></span>，+4 鎧，+1 サイズ)</div><div class="line">               </div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;CMD&#125;</span></span>18</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;頑健&#125;</span></span>+6 <span class="tag">\<span class="name">h</span><span class="string">&#123;反応&#125;</span></span>+5 <span class="tag">\<span class="name">h</span><span class="string">&#123;意志&#125;</span></span>+1</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">myrule</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;移動速度&#125;</span></span>20ft. </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;接敵面&#125;</span></span>5ft. <span class="tag">\<span class="name">h</span><span class="string">&#123;間合い&#125;</span></span>5ft.</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;白兵&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;lll&#125;</span></span></div><div class="line">バヨネット &amp; +8/3 &amp; 1d4<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;遠隔&#125;</span></span><span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;lll&#125;</span></span></div><div class="line">ヘヴィ ボウガン &amp; +13 &amp; 1d8(19-20)<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;CMB&#125;</span></span>+8</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;特殊攻撃&#125;</span></span>スクリーミング ボルト</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;攻撃オプション&#125;</span></span><span class="tag">\<span class="name">fea</span><span class="string">&#123;渾身の一打&#125;</span></span>，<span class="tag">\<span class="name">fea</span><span class="string">&#123;近距離射撃&#125;</span></span>，</div><div class="line"><span class="tag">\<span class="name">fea</span><span class="string">&#123;精密射撃&#125;</span></span>，<span class="tag">\<span class="name">fea</span><span class="string">&#123;高速装填&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">myrule</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;tabular&#125;</span><span class="string">&#123;lll&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">Abl</span><span class="string">&#123;筋&#125;</span></span>10(+0) &amp; <span class="tag">\<span class="name">Abl</span><span class="string">&#123;敏&#125;</span></span>17(+3) &amp; <span class="tag">\<span class="name">Abl</span><span class="string">&#123;耐&#125;</span></span>12(+1)<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">Abl</span><span class="string">&#123;知&#125;</span></span>10(+0) &amp; <span class="tag">\<span class="name">Abl</span><span class="string">&#123;判&#125;</span></span>9(-1) &amp; <span class="tag">\<span class="name">Abl</span><span class="string">&#123;魅&#125;</span></span>6(-2)<span class="tag">\<span class="name">\</span></span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;tabular&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;BAB&#125;</span></span>+7 <span class="tag">\<span class="name">h</span><span class="string">&#123;CMB&#125;</span></span>+6 <span class="tag">\<span class="name">h</span><span class="string">&#123;CMD&#125;</span></span>18</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;特技&#125;</span></span><span class="tag">\<span class="name">fea</span><span class="string">&#123;近距離射撃&#125;</span></span>，<span class="tag">\<span class="name">fea</span><span class="string">&#123;精密射撃&#125;</span></span>，</div><div class="line"><span class="tag">\<span class="name">fea</span><span class="string">&#123;高速装填:ヘヴィ&#125;</span></span>，<span class="tag">\<span class="name">fea</span><span class="string">&#123;渾身の一打&#125;</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;技能&#125;</span></span><span class="tag">\<span class="name">ski</span><span class="string">&#123;知覚&#125;</span></span>+6</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;装備&#125;</span></span>高品質のヘヴィ クロスボウ，ボルト*20，アダマンティン製ボルト*10</div><div class="line">スクリーミング ボルト，バヨネット，チェイン シャツ</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;言語&#125;</span></span>ゴブリン語</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">myrule</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">h</span><span class="string">&#123;スクリーミング ボルト&#125;</span></span>+2クロスボウ ボルト．射出者の敵のうち，このボルトの通り道から20ft.以内の者はみなDC 14の意志セーヴに成功しなければならず，失敗すると怯え状態になる．これは<span class="tag">\<span class="name">ele</span><span class="string">&#123;精神作用&#125;</span></span>の<span class="tag">\<span class="name">ele</span><span class="string">&#123;恐怖&#125;</span></span>効果である． </div><div class="line"></div><div class="line"><span class="tag">\<span class="name">newpage</span></span></div></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-12-07T15:00:00.000Z"><a href="/2017/12/08/roguelike-on-ios/">2017-12-08</a></time>
      
      
  
    <h1 class="title"><a href="/2017/12/08/roguelike-on-ios/">スマホでローグライク</a></h1>
  

    </header>
    <div class="entry">
      
        <p>この記事は、<a href="https://adventar.org/calendars/2718" target="_blank" rel="external">Roguelike Advent Calendar 2017</a>の第8日目の記事として書かれました。</p>
<hr>
<p>今年の春から夏にかけて触れる電子機器がスマホしかないみたいな環境で生活してる時期があったのでスマホゲーを結構やっておりました。その中でローグライクっぽいの色々。</p>
<p>メンタルが弱ってた時期にプレイしてたので難易度等を正しく認識できていなかった可能性があります。</p>
<h2 id="anaias"><a href="http://ananiasgame.com/index.html" target="_blank" rel="external">Anaias</a></h2>
<p>スマホでやるにはUIがちょっと。一部屋一画面みたいな割り切り方は良い。</p>
<h2 id="クラウンテイカーズ"><a href="http://chorusworldwide.com/crowntakers-jp/" target="_blank" rel="external">クラウンテイカーズ</a></h2>
<p>グローバルマップと戦闘がシームレスではないので狭義のローグライクからは外れる。未課金なのでおためしシナリオしかやってないけどゲームとしては面白そう。</p>
<h2 id="ローグhex"><a href="https://www.torowasa.com/#rogue-hex" target="_blank" rel="external">ローグHEX</a></h2>
<p>まだまだ発展途上という感じなんだけど更新止まってる。不思議のダンジョンの素潜り的なゲーム性。</p>
<h2 id="ビットローグ"><a href="https://itunes.apple.com/jp/app/id1128070374" target="_blank" rel="external">1ビットローグ</a></h2>
<p>出てきた時すげー評判良かった気がするんだけど合わなかった。ボスフロアの出現周期とか覚えるのが若干苦痛で…。</p>
<h2 id="cardinal-quest-2"><a href="https://itunes.apple.com/jp/app/id732353646" target="_blank" rel="external">Cardinal Quest 2</a></h2>
<p>この中では一番おすすめ。調べたらsteamとかでも売ってた。スマホゲーはシステムが凝ってるとかより動かしやすいのが多分いちばん大事なんだなあ。</p>
<h2 id="pathos"><a href="https://pathos.azurewebsites.net/" target="_blank" rel="external">Pathos</a></h2>
<p>スマホでできるNetHackとかそういう感じのマッシブなローグライク。無限復活のチートモードがあるのでむりくり下層までプレイしたけどよくわかんなかった。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-12-01T15:00:00.000Z"><a href="/2017/12/02/css-pub-past/">2017-12-02</a></time>
      
      
  
    <h1 class="title"><a href="/2017/12/02/css-pub-past/">CSS組版に流れ着くまでのあらすじ</a></h1>
  

    </header>
    <div class="entry">
      
        <p>この記事は、<a href="https://qiita.com/advent-calendar/2017/tech-fanbook" target="_blank" rel="external">技術系同人誌 Advent Calendar 2017</a>の第2日目の記事として書かれました。</p>
<hr>
<h1 id="まえがき">まえがき</h1>
<p>拙作<a href="https://www.dropbox.com/s/3ft8wbgkqos2t0d/unseen.pdf" target="_blank" rel="external">「見えざる埋蔵金」</a>の公開以降、某社に拾われたりバイト掛け持ちとか色々が重なってしんどくてバックレたり全くの別業種に就職したりそこを4ヶ月で辞めたりして今は職業訓練とハロワ通いをする身でして、お出しできるようなCSS組版の成果物はなんも無いのですが、その間いくつかCSS組版で本を書く個人プロジェクトを頓挫させたりしていくらか知見が溜まってきたのでアドベントカレンダーに便乗して時系列順でまとめていこうと思います。思い出話とかものすごニッチな適用例とかが主成分でポがエムってしまっているのでqiitaではなく個人ブログでやっていきます。</p>
<blockquote>
<p>これ技術系同人誌ではなく同人誌系技術の話になってしまうけどこのカレンダーで良かったのか。怒られたらそのとき取り下げるか。</p>
</blockquote>
<h1 id="出会いはアットウィキ">出会いはアットウィキ</h1>
<p>私がHTML/CSSを使って印刷データを作る、という流れに興味を持ったのは大学・大学院時代にレポート作業で少しでも手を抜くことを考えていたことに起因してます。当時の要件としては、</p>
<ul>
<li>作業環境がブラウザベースorすぐ作れる(デスクトップ機メインだったので環境を持ち運べなかった)</li>
<li>pdfが吐ける</li>
<li>レイアウトがいじれる(スカスカのレイアウトを組んで少しでもレポート枚数を稼ぐため)</li>
</ul>
<p>といったあたりが高優先度でした。</p>
<p>当時は最終的に<a href="https://cloudlatex.io" target="_blank" rel="external">Cloud LaTeX</a>を選んだのだけど、ツールを探す中で光るものを感じたのが、<a href="https://atwiki.jp" target="_blank" rel="external">アットウィキ</a>のpdf化機能でした。</p>
<p>LaTeXと違って補完機能が充実してなくてもwiki記法でザクっと本文を書ける。まあ読めなくはないレベルのpdfを出してくれる。画像アップロードも組み込みの表もある。ネット環境さえあればどこでも編集可能。ネット環境があるからコンビニのコピー機にデータ送って印刷可能。</p>
<p>レイアウトをいじれない点がマイナスで上記の通り最終的に選ぶことはなかったのですが、<strong>軽量マークアップ言語から印刷用pdfを作る</strong>というコンセプトの存在はここで知ることとなったのです。</p>
<blockquote>
<p>アットウィキのpdf化機能、今はなくなっちゃったみたい。残念！</p>
</blockquote>
<h1 id="trpg病">TRPG病</h1>
<p>私にとって<strong>「文書の印刷データを可能な限り手抜きで作りたい！」</strong>という欲求がレポート作成から来たものであるならば、<strong>「ややこしくって細かくてリッチなレイアウトを生成したい！」</strong>という欲求はTRPGから来たものでした。TRPGerのうち一定数は「自分の書いたリプレイやらデータ集やらシナリオやらの文書を公開・頒布したい」という病気に罹患しており治療方法は存在しません。そしてTRPG文書は諸般の事情によりややこしくって細かくてリッチなレイアウトを要求するものなのです。</p>
<h2 id="ややこしい">ややこしい</h2>
<p><a href="http://paizo.com/pathfinderRPG/prd/" target="_blank" rel="external">Pathfinder Reference Document</a>とか<a href="http://grancrest.jp/play/" target="_blank" rel="external">グランクレストRPGコアルール</a>とかを見ていただければ明白なのですが、TRPG文書は独自のデータブロック(カタログ組版で言うところのスペック表とかに近い)を多用します。比較的オーソドックスな小説風のレイアウトが通じるはずのリプレイ文書もト書きが必須でこれが意外とままならない。</p>
<h2 id="細かい">細かい</h2>
<p>商業のTRPG書籍に特徴的なのですが、コンテンツの製作に人件費がめっちゃかかるジャンルであるためかページを切り詰め切り詰め単価を下げることに血道をあげている場合がよくあります。極端な例だと索引を取っ払ってしまったり、縦書きの本の本文がゴリゴリのツメ組みだったり。趣味でやるならそこまでシビアに切り詰める必要はないのですがデータブロックなど公式のフォーマットを踏襲した方が良い部分もあるため細かく詰めたレイアウトがしたくなります。</p>
<h2 id="リッチ">リッチ</h2>
<p>TRPGはゲームなのでビジュアルも大事です。ごりっごりに背景画像を利用してフォントも凝ったのを色々ぶち込んでいきたい所です。電子媒体で頒布するならルール用語などのキーワードには自動でリンクを張って欲しいし、データ部分にはバーチャルテーブルトップなどの外部ツールと何らかの連携機能が用意できたりすると未来な感じでいいですね。欲望が際限なく広がります。</p>
<h1 id="そして敗北">そして敗北</h1>
<p>上記のような無茶な欲求に対して私はさまざまなアプローチを試み、そして敗北を重ねました。一応LaTeXでPathfinderRPGのモンスターデータを成型してセッションに持っていったりはしたけどもちょっとしんどかった。</p>
<blockquote>
<p>モンスターデータ.texについては別のアドベントカレンダーで詳しい話をします。</p>
</blockquote>
<p>何がつらいってLaTeXはなんでもできる代わりに表現がえらく冗長なのですよ。細かいデータブロックを成型したり背景画像を設定したりハシラ・ランニングヘッダを凝った見た目にしたりがいちいちややこしい。プラグインの仕組みが上手く整理されてるわけでもないしそれらを網羅的に調べる方法も乏しい。ちょうどリアルタイムプレビュー付きのTeXエディタが流行り始めてたんだけどそれでもCSS書くのに比べたら開発ツール群が弱い。出てくる単語がお前はJavaのプロジェクト内のクラスかってくらい長い。打ちづらい。補完しても合ってるのか一目でわからない。</p>
<p>こうして私は<strong>「ややこしくって細かくてリッチなレイアウトを生成したいけどLaTeX書くのはクソめんどくさいから絶対ヤダ！」</strong>というワガママ極まりない欲求を持つことになったのです。</p>
<h1 id="scriptogr.amよ永遠なれ">Scriptogr.amよ永遠なれ</h1>
<p>ここでちょっとレイヤーを文書作成の方に戻して軽量マークアップ言語の話をします。時系列順で言うと私がMarkdownに出会ったのはLaTeXに辟易したよりも後だからです。</p>
<p>私とMarkdownの最初の出会いは多分twitterにおいてだったと思います。「なんか最近この単語よく見るな」という程度ですが。当初は卒論のメモ書き用に「平文textに適用できる文書の成型ルール」として使っていたのですが、便利なツールとして認識したのはScriptogr.amを使いだしたのがきっかけです。</p>
<p>Scriptogr.amはDropbox内に上げた.mdファイルをいい感じに変換してブログとして表示してくれるサービスで、ちょうど静的サイトジェネレータでブログをやる時のめんどくさい所を全部やってくれるというのに似た働きをします。現に私のScriptogr.amのサービス終了後の引っ越し先はHexo + Github Pagesでした。WP立てるのに比べればずいぶんマシとは言えこれも結構めんどくさかった。</p>
<p>結局長くは持たなかったのですがScriptogr.amは私の性に合ったサービスでした。なんかしらMarkdownで書いてDropboxの中に放り込むだけでブログができる。スタブはDropboxの別なとこに置いとけばいいし、誤字修正なんかもDropbox内の.mdファイルを触れればどこからでもできるのでお手軽です。</p>
<p><strong>「Markdownはhtmlに変換するのが簡単」</strong>、<strong>「どうしても必要になったらhtmlタグを使えばいい」</strong>というのもMarkdownを理解する助けになりました。私は中坊のころからhtmlに触れていたので文書構造をそっちに対応させて考えられるのは大変都合がよかったのです。</p>
<h2 id="ちなみに">ちなみに</h2>
<p>Markdown→LaTeXをやらなかったのは当時LaTeX環境をCloud LaTeXに完全に頼っておりPandoc等と連携さすのがめんどくさかったからです。あと学術用途でどうせ数式にはTeX書式を使うことを考えるとMarkdownで書くことに大してうま味がなかった。</p>
<h1 id="なんとなくゴールができた">なんとなくゴールができた</h1>
<p>時系列は前後するものの、ここまでで私は<strong>「Markdownはhtmlに変換するのが簡単」</strong>、<strong>「軽量マークアップ言語からのpdf生成は便利だ」</strong>、<strong>「リッチなレイアウトをLaTeXを使わずに実現したい」</strong>というパーツを得ました。そして折しもこれらをつなぐアイデアがちょうどWebで見かけられるようになってきていました。このエントリの本題、<strong>CSS組版</strong>です。</p>
<p>つまり「Markdownで原稿を作成し何らかのイージーな手段でhtmlに変換、その見た目はcssで作ってやり、出来上がったHTML/CSS文書を何らかの方法でpdfにして吐き出す」というワークフローが自家で実現可能になりつつあり、それはおそらく自分にとって便利なツールになるであろうと予想ができるものだったのです。</p>
<h1 id="求めよさらば与えられん">求めよ、さらば与えられん</h1>
<p>目的がはっきりしたので私は今手元に足りないパーツを探すことにしました。</p>
<p>まずMarkdownパーサですが当時はオプションの豊富さから言って<a href="https://pandoc.org/" target="_blank" rel="external">Pandoc</a>一択でした。他のMarkdownパーサには「ヘッダで区切ってコンテナdivなりsectionなりで囲う」といった機能がなかったからです。</p>
<blockquote>
<p>今なら<a href="https://github.com/arve0/markdown-it-header-sections" target="_blank" rel="external">markdown-it-header-sections</a>とかPandocに追随するような形で揃ってきてるよ</p>
</blockquote>
<p>次にpdf化についてですが、このコンセプトにたどり着いた当初私は「CSS組版」という言葉は知らなかったため「htmlのpdf化」といったキーワードで情報収集をし、<a href="https://wkhtmltopdf.org/" target="_blank" rel="external">wkhtmltopdf</a>や<a href="http://sorotokin.com/adaptive-layout/" target="_blank" rel="external">Adaptive Layout</a>といったツールを見つけ手応えを感じました。そして最終的に<a href="http://vivliostyle.com/ja/" target="_blank" rel="external">Vivliostyle</a>のアルファ版に辿り着いたのです。</p>
<p>ついでにビルドツールとして大流行してたので<a href="https://gulpjs.com/" target="_blank" rel="external">gulp</a>も触り始めました。</p>
<h1 id="でけた">でけた</h1>
<ul>
<li>Adobe Brackets: エディタ。いい加減<a href="http://www.hi-ho.ne.jp/jun_miura/jmedit.htm" target="_blank" rel="external">JmEditor</a>を卒業した方がいい気がしたので。</li>
<li>Markdown: 軽量マークアップ言語。本文作成。</li>
<li>Pandoc: 汎用ドキュメント変換ツール。Markdown -&gt; html。</li>
<li>gulp: ビルドツール。とりあえず.mdをwatchしてPandoc走らすとこまで。</li>
<li>Chrome DevTools: F12。主にvivilostyleの当たってない状態で使う。</li>
<li>vivliostyle.js: CSS組版ツール。当時はChrome Extension版を利用。</li>
<li>Chrome: pdf出力。背景画像も対応していてフォントも埋め込んでくれるのでえらい。</li>
</ul>
<p>これらのツールを組み合わせることで私はMarkdownからhtmlを経由してpdfを吐かせるワークフローを構築し「見えざる埋蔵金」を公開することができたのです。</p>
<p>長くなったので「見えざる埋蔵金」の時にできたこの環境については別にエントリ立てて書いていきます。</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="search">
    <input type="hidden" name="q" value="site:liarnose.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">タグ</h3>
  <ul class="entry">
  
    <li><a href="/tags/Ashenzari/">Ashenzari</a><small>1</small></li>
  
    <li><a href="/tags/Berserker/">Berserker</a><small>1</small></li>
  
    <li><a href="/tags/Centaur/">Centaur</a><small>1</small></li>
  
    <li><a href="/tags/Conjurer/">Conjurer</a><small>3</small></li>
  
    <li><a href="/tags/DCSS/">DCSS</a><small>8</small></li>
  
    <li><a href="/tags/DemonSpawn/">DemonSpawn</a><small>1</small></li>
  
    <li><a href="/tags/Fighter/">Fighter</a><small>1</small></li>
  
    <li><a href="/tags/FireElementalist/">FireElementalist</a><small>1</small></li>
  
    <li><a href="/tags/Formicid/">Formicid</a><small>1</small></li>
  
    <li><a href="/tags/Gargoyle/">Gargoyle</a><small>3</small></li>
  
    <li><a href="/tags/Gladiator/">Gladiator</a><small>1</small></li>
  
    <li><a href="/tags/Gozag/">Gozag</a><small>1</small></li>
  
    <li><a href="/tags/Naga/">Naga</a><small>1</small></li>
  
    <li><a href="/tags/Necromancer/">Necromancer</a><small>1</small></li>
  
    <li><a href="/tags/Qazlal/">Qazlal</a><small>1</small></li>
  
    <li><a href="/tags/Ru/">Ru</a><small>4</small></li>
  
    <li><a href="/tags/Summoner/">Summoner</a><small>1</small></li>
  
    <li><a href="/tags/TRPG/">TRPG</a><small>1</small></li>
  
    <li><a href="/tags/Trog/">Trog</a><small>1</small></li>
  
    <li><a href="/tags/VineStalker/">VineStalker</a><small>2</small></li>
  
    <li><a href="/tags/Winning/">Winning</a><small>3</small></li>
  
    <li><a href="/tags/Yredelemnul/">Yredelemnul</a><small>1</small></li>
  
    <li><a href="/tags/advent-calendar/">advent calendar</a><small>8</small></li>
  
    <li><a href="/tags/brawler/">brawler</a><small>1</small></li>
  
    <li><a href="/tags/dcss/">dcss</a><small>1</small></li>
  
    <li><a href="/tags/ghoul/">ghoul</a><small>1</small></li>
  
    <li><a href="/tags/hoge/">hoge</a><small>1</small></li>
  
    <li><a href="/tags/tactical-chronicle/">tactical chronicle</a><small>5</small></li>
  
    <li><a href="/tags/test/">test</a><small>1</small></li>
  
    <li><a href="/tags/tome4/">tome4</a><small>1</small></li>
  
    <li><a href="/tags/trpg/">trpg</a><small>3</small></li>
  
    <li><a href="/tags/嘘つきジニーと磔刑の国/">嘘つきジニーと磔刑の国</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2017 liarnose
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>